{"ast":null,"code":"import { CoralogixEventType } from '../types';\nimport { stringMatchesSomePattern } from '../utils';\nimport { ErrorSource } from '../instrumentations/CoralogixErrorInstrumentation';\nexport function shouldDropEvent(cxRumEvent, options) {\n  if (isDocumentErrorWithoutMessage(cxRumEvent)) {\n    options.debug && console.warn('Document error without message dropped.');\n    return true;\n  }\n  if (isIgnoredError(cxRumEvent, options.ignoreErrors)) {\n    options.debug && console.warn('Ignored error dropped.');\n    return true;\n  }\n  return false;\n}\nfunction isDocumentErrorWithoutMessage(cxRumEvent) {\n  const {\n    event_context,\n    error_context\n  } = cxRumEvent || {};\n  return event_context.type === CoralogixEventType.ERROR && event_context.source === ErrorSource.DOCUMENT && !(error_context === null || error_context === void 0 ? void 0 : error_context.error_message);\n}\nfunction isIgnoredError(cxRumEvent, ignoreErrors) {\n  if (!cxRumEvent.error_context || !(ignoreErrors === null || ignoreErrors === void 0 ? void 0 : ignoreErrors.length)) {\n    return false;\n  }\n  const errorMessage = cxRumEvent.error_context.error_message || '';\n  return stringMatchesSomePattern(errorMessage, ignoreErrors);\n}","map":{"version":3,"names":["CoralogixEventType","stringMatchesSomePattern","ErrorSource","shouldDropEvent","cxRumEvent","options","isDocumentErrorWithoutMessage","debug","console","warn","isIgnoredError","ignoreErrors","event_context","error_context","type","ERROR","source","DOCUMENT","error_message","length","errorMessage"],"sources":["../../../../../libs/browser/src/filters/filters.ts"],"sourcesContent":[null],"mappings":"AAAA,SAEEA,kBAAkB,QAEb,UAAU;AACjB,SAASC,wBAAwB,QAAQ,UAAU;AACnD,SAASC,WAAW,QAAQ,mDAAmD;AAE/E,OAAM,SAAUC,eAAeA,CAC7BC,UAAsB,EACtBC,OAAkC;EAElC,IAAIC,6BAA6B,CAACF,UAAU,CAAC,EAAE;IAC7CC,OAAO,CAACE,KAAK,IAAIC,OAAO,CAACC,IAAI,CAAC,yCAAyC,CAAC;IACxE,OAAO,IAAI;;EAGb,IAAIC,cAAc,CAACN,UAAU,EAAEC,OAAO,CAACM,YAAY,CAAC,EAAE;IACpDN,OAAO,CAACE,KAAK,IAAIC,OAAO,CAACC,IAAI,CAAC,wBAAwB,CAAC;IACvD,OAAO,IAAI;;EAGb,OAAO,KAAK;AACd;AAEA,SAASH,6BAA6BA,CAACF,UAAsB;EAC3D,MAAM;IAAEQ,aAAa;IAAEC;EAAa,CAAE,GAAGT,UAAU,IAAI,EAAE;EACzD,OACEQ,aAAa,CAACE,IAAI,KAAKd,kBAAkB,CAACe,KAAK,IAC/CH,aAAa,CAACI,MAAM,KAAKd,WAAW,CAACe,QAAQ,IAC7C,EAACJ,aAAa,aAAbA,aAAa,uBAAbA,aAAa,CAAEK,aAAa;AAEjC;AAEA,SAASR,cAAcA,CACrBN,UAAsB,EACtBO,YAAuD;EAEvD,IAAI,CAACP,UAAU,CAACS,aAAa,IAAI,EAACF,YAAY,aAAZA,YAAY,uBAAZA,YAAY,CAAEQ,MAAM,GAAE;IACtD,OAAO,KAAK;;EAGd,MAAMC,YAAY,GAAWhB,UAAU,CAACS,aAAa,CAACK,aAAa,IAAI,EAAE;EAEzE,OAAOjB,wBAAwB,CAACmB,YAAY,EAAET,YAAY,CAAC;AAC7D","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}