{"ast":null,"code":"import { CoralogixAttributes } from '../constants';\nimport { resolvePageContext } from '../utils';\nimport { getSessionManager } from '../helpers';\nexport class CoralogixNavigationProcessor {\n  forceFlush() {\n    return Promise.resolve();\n  }\n  onEnd(span) {}\n  onStart(span) {\n    const pageContext = resolvePageContext(location.href);\n    if (pageContext) {\n      span[CoralogixAttributes.PAGE_CONTEXT] = pageContext;\n      const {\n        currentPageFragment\n      } = getSessionManager();\n      const {\n        page_fragments\n      } = pageContext;\n      if (currentPageFragment !== page_fragments) {\n        getSessionManager().currentPageFragment = page_fragments;\n        span[CoralogixAttributes.IS_NAVIGATION_EVENT] = true;\n      }\n    }\n  }\n  shutdown() {\n    return Promise.resolve();\n  }\n}","map":{"version":3,"names":["CoralogixAttributes","resolvePageContext","getSessionManager","CoralogixNavigationProcessor","forceFlush","Promise","resolve","onEnd","span","onStart","pageContext","location","href","PAGE_CONTEXT","currentPageFragment","page_fragments","IS_NAVIGATION_EVENT","shutdown"],"sources":["../../../../../libs/browser/src/processors/CoralogixNavigationProcessor.ts"],"sourcesContent":[null],"mappings":"AAKA,SAASA,mBAAmB,QAAQ,cAAc;AAClD,SAASC,kBAAkB,QAAQ,UAAU;AAE7C,SAASC,iBAAiB,QAAQ,YAAY;AAE9C,OAAM,MAAOC,4BAA4B;EACvCC,UAAUA,CAAA;IACR,OAAOC,OAAO,CAACC,OAAO,EAAE;EAC1B;EAEAC,KAAKA,CAACC,IAAkB,GAAS;EAEjCC,OAAOA,CAACD,IAAU;IAChB,MAAME,WAAW,GAAgBT,kBAAkB,CAACU,QAAQ,CAACC,IAAI,CAAC;IAElE,IAAIF,WAAW,EAAE;MACfF,IAAI,CAACR,mBAAmB,CAACa,YAAY,CAAC,GAAGH,WAAW;MAEpD,MAAM;QAAEI;MAAmB,CAAE,GAAGZ,iBAAiB,EAAE;MACnD,MAAM;QAAEa;MAAc,CAAE,GAAGL,WAAW;MAEtC,IAAII,mBAAmB,KAAKC,cAAc,EAAE;QAC1Cb,iBAAiB,EAAE,CAACY,mBAAmB,GAAGC,cAAc;QACxDP,IAAI,CAACR,mBAAmB,CAACgB,mBAAmB,CAAC,GAAG,IAAI;;;EAG1D;EAEAC,QAAQA,CAAA;IACN,OAAOZ,OAAO,CAACC,OAAO,EAAE;EAC1B","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}